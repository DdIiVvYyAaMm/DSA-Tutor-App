<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA Tutor App</title>
    <style>
        body { font-family: Arial, sans-serif; display: flex; }
        #context { width: 30%; background-color: #4e4e4e; color: white; padding: 20px; }
        #feedback { background-color: #d3d3d3; padding: 10px; margin-top: 10px; }
        #question-area { width: 70%; padding: 20px; }
        #response { width: 100%; height: 100px; margin-top: 10px; }
        #submit, #next { margin-top: 10px; padding: 10px; }
        #submit { background-color: #66bb6a; cursor: pointer; }
        #next { background-color: #b39ddb; cursor: pointer; }
    </style>
</head>
<body>
    <div id="context">
        <h2>Context</h2>
        <div id="feedback">Feedback</div>
    </div>
    <div id="question-area">
        <h3 id="question">How old is the planet Earth?</h3>
        <textarea id="response" placeholder="Type your response here..."></textarea>
        <button id="submit" onclick="submitAnswer()">Submit</button>
        <button id="next" onclick="nextQuestion()">Next Question</button>
    </div>

    <script>
        function submitAnswer() {
            const question = document.getElementById('question').textContent;
            const userResponse = document.getElementById('response').value;
            
            if (!userResponse.trim()) {
                alert('Please enter your response!');
                return;
            }

            fetch('/evaluate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ question: question, user_response: userResponse }),
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('feedback').textContent = data.feedback;
            })
            .catch(error => console.error('Error:', error));
        }

        function nextQuestion() {
            // Logic for loading the next question can go here
            alert('Next question functionality is not implemented yet.');
        }
    </script>
</body>
</html>
